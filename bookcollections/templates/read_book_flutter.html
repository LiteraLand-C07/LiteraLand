<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Read - {{book.title}}</title>
        <style>
            body {
                background-color: rgb(86, 85, 85);
            }
    
        </style>
        <script type="text/javascript" src="https://www.google.com/books/jsapi.js"></script>
    </head>
    <body>
        <!-- EMBEDDED VIEWER -->
        <div id="error-message" class="text-center text-danger"></div>
        <div id="viewerCanvas" data-ISBN = "{{book.ISBN}}" style="width: 100%; height: 1000px;"></div>
    </body>
    <script>
        google.books.load();
    
        function displayErrorMessage(message) {
            const errorMessageElement = document.getElementById('error-message');
            errorMessageElement.textContent = message;
        }
    
        function initialize() {
            var viewer = new google.books.DefaultViewer(document.getElementById('viewerCanvas'));
            const ISBN = document.getElementById('viewerCanvas').getAttribute('data-ISBN')
            viewer.load(`ISBN:${ISBN}`, function() {
                displayErrorMessage("Could not embed the book!");
            })
        }
    
        google.books.setOnLoadCallback(initialize);
    </script>
</html>



